## ä½¿ç”¨Scanner

```java
import java.util.Scanner;
Scanner sc = new Scanner(System.in);


//è¿ç”¨ä¸Šé¢åˆ›å»ºçš„scå¯¹è±¡è°ƒç”¨å¯¹åº”çš„æ–¹æ³•ï¼Œæ§åˆ¶å°å³å¯ç­‰å¾…ç”¨æˆ·è¾“å…¥ï¼Œæˆ‘ä»¬è‡ªå®šä¹‰ä¸€ä¸ªå˜é‡æ¥æ¥æ”¶å³å¯
//æˆ‘ä»¬æƒ³è¦è¾“å…¥çš„æ•°æ®ç±»å‹ä¸åŒï¼Œä¹Ÿéœ€è¦è°ƒç”¨ä¸åŒçš„æ–¹æ³•ï¼Œå…·ä½“åº”ç”¨å¦‚ä¸‹ï¼š
String str = sc.nextLine();
String str = sc.next();
byte a1= sc.nextByte();
short a2= sc.nextShort();
int a3 = sc.nextInt();
long a4 = sc.nextLong();
float a5 = sc.nextFloat();
double a6 = sc.nextDouble();
boolean a7 = sc.nextBoolean();
BigInteger bi=sc.nextBigInteger();
BigDecimal bd = sc.nextBigDecimal();
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºCSDNåšä¸»ã€ŒåŠªåŠ›åŠªåŠ›å†åŠªåŠ›c.ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚
åŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/m0_51358164/article/details/125877018
```

next()ä¸nextLine()çš„åŒºåˆ«

next()ç”¨æ³•æ€»ç»“ï¼š

next()ç”¨æ³•æ€»ç»“ï¼š

1. ä¸€å®šè¦è¯»å–åˆ°æœ‰æ•ˆå­—ç¬¦åæ‰å¯ä»¥ç»“æŸè¾“å…¥ã€‚
2. å¯¹è¾“å…¥çš„æœ‰æ•ˆå­—ç¬¦ä¹‹å‰æ‰€é‡åˆ°çš„ç©ºç™½ï¼Œä¼šè‡ªåŠ¨å°†å…¶å»é™¤ã€‚
3. åªæœ‰è¾“å…¥çš„æœ‰æ•ˆå­—ç¬¦åæ‰å°†å…¶åé¢è¾“å…¥çš„ç©ºç™½ä½œä¸ºç»“æŸç¬¦ï¼Œå³ä»¥ä»¥ç©ºæ ¼ä½œä¸ºè‡ªå·±çš„è¯»å–ç»“æŸæ ‡è¯†ç¬¦
4. next()ä¸èƒ½å¾—åˆ°<mark>å¸¦æœ‰ç©ºæ ¼</mark>çš„å­—ç¬¦ä¸²ã€‚
5. è¯»å–ç»“æŸåï¼Œè¯¥æ–¹æ³•ä¼šå°†æˆ‘ä»¬çš„é¼ æ ‡å®šä½åœ¨æˆ‘ä»¬è¾“å…¥æ•°æ®çš„é‚£ä¸€è¡Œã€‚

nextLine()ç”¨æ³•æ€»ç»“ï¼š
1ã€ä»¥å›è½¦ç¬¦ä½œä¸ºç»“æŸæ ‡è¯†ç¬¦ï¼Œè·å–åˆ°çš„æ˜¯å›è½¦ç¬¦å‰è¾“å…¥çš„æ‰€æœ‰å­—ç¬¦ä¸²ï¼ˆåŒ…æ‹¬ç©ºæ ¼ï¼‰ã€‚
2ã€è¯»å–ç»“æŸåï¼Œ<mark>è¯¥æ–¹æ³•ä¼šå°†æˆ‘ä»¬çš„é¼ æ ‡å®šä½åœ¨æˆ‘ä»¬è¾“å…¥æ•°æ®çš„é‚£ä¸€è¡Œçš„ä¸‹ä¸€è¡Œ</mark>ã€‚

å…ˆä½¿ç”¨nextLineå†ä½¿ç”¨next()ã€nextInt()ç­‰æ²¡é—®é¢˜ï¼Œä½†æ˜¯å…ˆä½¿ç”¨next()å’ŒnextInt()ç­‰ä¹‹åå°±ä¸å¯ä»¥å†ç´§è·ŸnextLineä½¿ç”¨ã€‚ï¼ˆ<mark>è¿™ä¸€ç‚¹å¾ˆé‡è¦ï¼ï¼ï¼</mark>ï¼‰
è¿™æ˜¯å› ä¸ºnext()ç­‰è¿™äº›æ–¹æ³•è¯»å–ç»“æŸåä¼šç´§è·Ÿä¸€ä¸ªå›è½¦ç¬¦ï¼Œè€ŒnextLineä¼šç›´æ¥è¯»å–åˆ°è¿™ä¸ªå›è½¦ç¬¦ï¼Œè¿™å°±å¯¼è‡´å‡ºç°æˆ‘ä»¬è¿˜æ²¡æœ‰æ¥å¾—åŠè¾“å…¥æˆ‘ä»¬æƒ³è¦è¾“å…¥çš„æ•°æ®ï¼ŒnextLineå°±ä»¥ä¸ºæˆ‘ä»¬å·²ç»è¾“å…¥å®Œäº†è¿™æ ·çš„æƒ…å†µ
>ä½¿ç”¨nextåæƒ³å†ç”¨nextLineè¯»å–ï¼Œå…ˆç”¨nextLineä¸€æ¬¡
åˆ¤æ–­æ˜¯å¦æœ‰ä¸‹ä¸€ä¸ªè¾“å…¥å¯ä»¥ç”¨sc.<mark>hasNext()</mark>æˆ–sc.hasNextInt()æˆ–sc.hasNextDouble()æˆ–sc.hasNextLine()

è¾“å‡º

1. System.out.println();//æ¢è¡Œæ‰“å°ï¼Œè¾“å‡ºä¹‹åä¼šè‡ªåŠ¨æ¢è¡Œ
2. System.out.print();//ä¸æ¢è¡Œæ‰“å°
3. System.out.printf();//æŒ‰æ ¼å¼è¾“å‡º
4. System.out.printf("%.1f,3.55)ï¼Œä¿ç•™1ä½å°æ•°ï¼Œ2ä½æ˜¯2f
## å‰ç¼€å’Œ

### ä¸€ç»´å‰ç¼€å’Œ

![](https://mobsidian.oss-cn-beijing.aliyuncs.com/2024-03-29-15-41-07-image.png)

```java
class NumArray {
    // å‰ç¼€å’Œæ•°ç»„
    private int[] preSum;

    /* è¾“å…¥ä¸€ä¸ªæ•°ç»„ï¼Œæ„é€ å‰ç¼€å’Œ */
    public NumArray(int[] nums) {
        // preSum[0] = 0ï¼Œä¾¿äºè®¡ç®—ç´¯åŠ å’Œ
        preSum = new int[nums.length + 1];
        // è®¡ç®— nums çš„ç´¯åŠ å’Œ
        for (int i = 1; i < preSum.length; i++) {
            preSum[i] = preSum[i - 1] + nums[i - 1];
        }
    }

    /* æŸ¥è¯¢é—­åŒºé—´ [left, right] çš„ç´¯åŠ å’Œ */
    public int sumRange(int left, int right) {
        return preSum[right + 1] - preSum[left];
    }
}
```

åº”ç”¨åœºæ™¯ï¼šæ±‚è¿ç»­å­æ•°ç»„ä¹‹å’Œï¼Œä¸¤ä¸ªå‰ç¼€å’Œç›¸å‡ï¼Œä¾¿å¾—åˆ°å­æ•°ç»„ä¹‹å’Œ

æ±‚å­æ•°ç»„å’Œæœ€å¤§ï¼Œå¯ä»¥ç»´æŠ¤æœ€å°å‰ç¼€å’Œ

### äºŒç»´å‰ç¼€å’Œ

![](https://mobsidian.oss-cn-beijing.aliyuncs.com/1692152740-dSPisw-matrix-sum.png)

```java
class MatrixSum {
    private final int[][] sum;

    public MatrixSum(int[][] matrix) {
        int m = matrix.length, n = matrix[0].length;
        sum = new int[m + 1][n + 1]; // æ³¨æ„ï¼šå¦‚æœ matrix[i][j] èŒƒå›´å¾ˆå¤§ï¼Œéœ€è¦ä½¿ç”¨ long
        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                sum[i + 1][j + 1] = sum[i + 1][j] + sum[i][j + 1] - sum[i][j] + matrix[i][j];
            }
        }
    }

    // è¿”å›å·¦ä¸Šè§’åœ¨ (r1,c1) å³ä¸‹è§’åœ¨ (r2-1,c2-1) çš„å­çŸ©é˜µå…ƒç´ å’Œï¼ˆç±»ä¼¼å‰ç¼€å’Œçš„å·¦é—­å³å¼€ï¼‰
    public int query(int r1, int c1, int r2, int c2) {
        return sum[r2][c2] - sum[r2][c1] - sum[r1][c2] + sum[r1][c1];
    }

    // å¦‚æœä½ ä¸ä¹ æƒ¯å·¦é—­å³å¼€ï¼Œä¹Ÿå¯ä»¥è¿™æ ·å†™
    // è¿”å›å·¦ä¸Šè§’åœ¨ (r1,c1) å³ä¸‹è§’åœ¨ (r2,c2) çš„å­çŸ©é˜µå…ƒç´ å’Œ
    public int query2(int r1, int c1, int r2, int c2) {
        return sum[r2 + 1][c2 + 1] - sum[r2 + 1][c1] - sum[r1][c2 + 1] + sum[r1][c1];
    }
}

ä½œè€…ï¼šçµèŒ¶å±±è‰¾åºœ
é“¾æ¥ï¼šhttps://leetcode.cn/circle/discuss/UUuRex/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

## å·®åˆ†æ•°ç»„

![](https://mobsidian.oss-cn-beijing.aliyuncs.com/2024-03-29-15-51-39-image.png)

```java
// å·®åˆ†æ•°ç»„å·¥å…·ç±»
class Difference {
    // å·®åˆ†æ•°ç»„
    private int[] diff;

    /* è¾“å…¥ä¸€ä¸ªåˆå§‹æ•°ç»„ï¼ŒåŒºé—´æ“ä½œå°†åœ¨è¿™ä¸ªæ•°ç»„ä¸Šè¿›è¡Œ */
    public Difference(int[] nums) {
        assert nums.length > 0;
        diff = new int[nums.length];
        // æ ¹æ®åˆå§‹æ•°ç»„æ„é€ å·®åˆ†æ•°ç»„
        diff[0] = nums[0];
        for (int i = 1; i < nums.length; i++) {
            diff[i] = nums[i] - nums[i - 1];
        }
    }

    /* ç»™é—­åŒºé—´ [i, j] å¢åŠ  valï¼ˆå¯ä»¥æ˜¯è´Ÿæ•°ï¼‰*/
    public void increment(int i, int j, int val) {
        diff[i] += val;
        if (j + 1 < diff.length) {
            diff[j + 1] -= val;
        }
    }

    /* è¿”å›ç»“æœæ•°ç»„ */
    public int[] result() {
        int[] res = new int[diff.length];
        // æ ¹æ®å·®åˆ†æ•°ç»„æ„é€ ç»“æœæ•°ç»„
        res[0] = diff[0];
        for (int i = 1; i < diff.length; i++) {
            res[i] = res[i - 1] + diff[i];
        }
        return res;
    }
}
```

> å½“Â `j+1 >= diff.length`Â æ—¶ï¼Œè¯´æ˜æ˜¯å¯¹Â `nums[i]`Â åŠä»¥åçš„æ•´ä¸ªæ•°ç»„éƒ½è¿›è¡Œä¿®æ”¹ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦å†ç»™Â `diff`Â æ•°ç»„å‡Â `val`Â äº†ã€‚

## å“ˆå¸Œè¡¨ä¼˜åŒ–

å“ˆå¸Œè¡¨é€‚åˆåœ¨ä¸€äº›æ•°ä¸­æ‰¾å¦ä¸€ä¸ªæ•°ï¼Œæ¯”å¦‚ä¸¤æ•°ä¹‹å’Œä¸ºtargetï¼Œå³nums[i]+nums[j]=targetï¼Œé—®é¢˜å˜åŒ–ä¸ºnums[j]=target-nums[i]ï¼Œå³å‘å³è¾¹éå†jï¼Œå¯»æ‰¾å·¦è¾¹çš„æ•°ä¸ºtarget-nums[i];æ•…å¯ä»¥åˆ©ç”¨å“ˆå¸Œè¡¨ï¼Œkeyä¸ºnums[j]

## æ ‘
### åºåˆ—åŒ–
==ACMåˆ›å»ºæ ‘å…¶å®å°±æ˜¯äºŒå‰æ ‘çš„ååºåˆ—åŒ–==

[äºŒå‰æ ‘çš„é¢˜ï¼Œå°±é‚£å‡ ä¸ªæ¡†æ¶ï¼Œæ¯ç‡¥è‡³æğŸ¤” (qq.com)](https://mp.weixin.qq.com/s/DVX2A1ha4xSecEXLxW_UsA)

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
```

```java
    // Decodes your encoded data to tree.
    public TreeNode deserialize(String data) {
        String[] nodes=data.split(",");
        LinkedList<String> list=new LinkedList<>();
        for(String node:nodes){
            list.addLast(node);
        }
        return deserialize(list);

    }
    public TreeNode deserialize(LinkedList<String> nodes){
        if(nodes.isEmpty()) return null;
        String node=nodes.removeFirst();
        if(node.equals("#")) return null;
        TreeNode root=new TreeNode(Integer.parseInt(node));
        root.left=deserialize(nodes);
        root.right=deserialize(nodes);
        return root;

    }
```

> æ³¨æ„ï¼šdataæ˜¯å‰åºéå†çš„ç»“æœï¼ˆå¦‚1,2,#,4,#,#,3,#,#,ï¼‰ï¼Œç”¨#è¡¨ç¤ºnull
> 
> ååºç±»ä¼¼ï¼Œå–å‡º<mark>æœ€åä¸€ä¸ª</mark>ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œåˆ›å»ºèŠ‚ç‚¹ï¼Œæ„é€ å·¦å­æ ‘å’Œå³å­æ ‘ï¼Œå…ˆæ„é€ å³å­æ ‘å†æ„é€ å·¦å­æ ‘ï¼Œå› ä¸ºå³å­æ ‘åœ¨å…ˆ
> 
> ä¸­åºéå†æ— æ³•å®ç°ååºåˆ—åŒ–ï¼Œä¹Ÿå°±æ— æ³•åˆ›å»ºæ ‘

å±‚æ¬¡éå†åºåˆ—åŒ–

```java
String SEP = ",";
String NULL = "#";

/* å°†äºŒå‰æ ‘åºåˆ—åŒ–ä¸ºå­—ç¬¦ä¸² */
String serialize(TreeNode root) {
    if (root == null) return "";
    StringBuilder sb = new StringBuilder();
    // åˆå§‹åŒ–é˜Ÿåˆ—ï¼Œå°† root åŠ å…¥é˜Ÿåˆ—
    Queue<TreeNode> q = new LinkedList<>();
    q.offer(root);

    while (!q.isEmpty()) {
        TreeNode cur = q.poll();

        /* å±‚çº§éå†ä»£ç ä½ç½® */
        if (cur == null) {
            sb.append(NULL).append(SEP);
            continue;
        }
        sb.append(cur.val).append(SEP);
        /*****************/

        q.offer(cur.left);
        q.offer(cur.right);
    }

    return sb.toString();
}
```

ååºåˆ—åŒ–ï¼Œä¹Ÿå°±æ˜¯å±‚æ¬¡éå†åˆ›å»ºæ ‘

```java
/* å°†å­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºäºŒå‰æ ‘ç»“æ„ */
TreeNode deserialize(String data) {
    if (data.isEmpty()) return null;
    String[] nodes = data.split(SEP);
    // ç¬¬ä¸€ä¸ªå…ƒç´ å°±æ˜¯ root çš„å€¼
    TreeNode root = new TreeNode(Integer.parseInt(nodes[0]));

    // é˜Ÿåˆ— q è®°å½•çˆ¶èŠ‚ç‚¹ï¼Œå°† root åŠ å…¥é˜Ÿåˆ—
    Queue<TreeNode> q = new LinkedList<>();
    q.offer(root);

    for (int i = 1; i < nodes.length; ) {
        // é˜Ÿåˆ—ä¸­å­˜çš„éƒ½æ˜¯çˆ¶èŠ‚ç‚¹
        TreeNode parent = q.poll();
        // çˆ¶èŠ‚ç‚¹å¯¹åº”çš„å·¦ä¾§å­èŠ‚ç‚¹çš„å€¼
        String left = nodes[i++];
        if (!left.equals(NULL)) {
            parent.left = new TreeNode(Integer.parseInt(left));
            q.offer(parent.left);
        } else {
            parent.left = null;
        }
        // çˆ¶èŠ‚ç‚¹å¯¹åº”çš„å³ä¾§å­èŠ‚ç‚¹çš„å€¼
        String right = nodes[i++];
        if (!right.equals(NULL)) {
            parent.right = new TreeNode(Integer.parseInt(right));
            q.offer(parent.right);
        } else {
            parent.right = null;
        }
    }
    return root;
}
```


### éå†
äºŒå‰æ ‘çš„å…ˆåºã€ä¸­åºã€ååºéå†

å…ˆåº:Â **ä»»ä½•å­æ ‘çš„å¤„ç†é¡ºåºéƒ½æ˜¯ï¼Œå…ˆå¤´èŠ‚ç‚¹ã€å†å·¦å­æ ‘ã€ç„¶åå³å­æ ‘**

ä¸­åº:Â **ä»»ä½•å­æ ‘çš„å¤„ç†é¡ºåºéƒ½æ˜¯ï¼Œå…ˆå·¦å­æ ‘ã€å†å¤´èŠ‚ç‚¹ã€ç„¶åå³å­æ ‘**

ååº:Â **ä»»ä½•å­æ ‘çš„å¤„ç†é¡ºåºéƒ½æ˜¯ï¼Œå…ˆå·¦å­æ ‘ã€å†å³å­æ ‘ã€ç„¶åå¤´èŠ‚ç‚¹**

> å‰åºï¼Œç¬¬ä¸€æ¬¡åˆ°è¾¾å½“å‰èŠ‚ç‚¹å°±æ‰“å°
> 
> ä¸­åºï¼Œç¬¬äºŒæ¬¡åˆ°è¾¾å½“å‰èŠ‚ç‚¹å°±æ‰“å°
> 
> ååºï¼Œç¬¬ä¸‰æ¬¡åˆ°è¾¾å½“å‰èŠ‚ç‚¹å°±æ‰“å°



 #### å…ˆåºéå†

å‡†å¤‡ä¸€ä¸ªæ ˆï¼Œ

1. ç¬¬ä¸€æ­¥__å°†éç©ºæ ¹ç»“ç‚¹å‹æ ˆ__
   
   å‡ºæ ˆå¹¶æ‰“å°

2. **å…ˆå°†åˆšåˆšé‚£ä¸ªå‡ºæ ˆçš„èŠ‚ç‚¹çš„éç©ºå³å­æ ‘ç»“ç‚¹å‹æ ˆ (ç©ºäº†å°±ä¸å‹å‘—)ï¼Œï¼ˆåˆ©ç”¨æ ˆçš„åè¿›å…ˆå‡ºç‰¹æ€§ï¼‰**

3. **åå°†åˆšåˆšé‚£ä¸ªå‡ºæ ˆçš„èŠ‚ç‚¹çš„éç©ºå·¦å­æ ‘ç»“ç‚¹å‹æ ˆ (ç©ºäº†å°±ä¸å‹å‘—)**
   
   > è¿˜æ˜¯å…ˆåºï¼Œåªä¸è¿‡éé€’å½’æ–¹å¼å°±æ˜¯æˆ‘ä»¬è‡ªå·±æ”¾å…¥æ ˆï¼Œè¦å…ˆæŠŠå³è¾¹çš„å‹è¿›å»ï¼Œå†æŠŠå·¦è¾¹çš„å‹è¿›å»

â€‹ å½“å‰æ ˆé¡¶çš„èŠ‚ç‚¹å‡ºæ ˆå¹¶æ‰“å°

4. é‡å¤ 2,3

ç›´åˆ°æ ˆç©ºäº†ï¼Œè¯´æ˜æ‰€æœ‰çš„éƒ½å‡ºæ ˆäº† (è¿™é‡Œå‡ºç«™é¡ºåºå°±æ˜¯å‰åºï¼Œæˆ‘ä»¬å¯ä»¥åšå„ç§æ“ä½œ), æ‰€æœ‰çš„éƒ½å‡ºæ ˆäº†å°±ä¸€å®šæ˜¯åœ¨æ‰€æœ‰èŠ‚ç‚¹ (æ¯æ¬¡å¾ªç¯æ ˆ pop å‡ºæ¥çš„) å·¦å­©å­éƒ½å·²ç»å‹æ ˆç„¶åå‡ºæ ˆæˆ–è€…å°±æ˜¯ç©ºçš„ï¼Œæ‰€æœ‰å³å­©å­ä¹Ÿéƒ½å·²ç»å‹æ ˆç„¶åå‡ºæ ˆæˆ–è€…å°±æ˜¯ç©ºçš„

![](https://mobsidian.oss-cn-beijing.aliyuncs.com/2023-02-20-15-08-45-image.png)

#### ååºéå†
ä¸¤ä¸ªæ ˆï¼Œä¸€ä¸ªå·¥å…·æ ˆï¼Œä¸€ä¸ªæ”¶æ ˆ

1. ç¬¬ä¸€æ­¥__å°†éç©ºæ ¹ç»“ç‚¹å‹æ ˆ__

â€‹ å‡ºè¿™ä¸ªæ ˆï¼Œå…¥æ”¶æ ˆ

2. **å…ˆå°†åˆšåˆšé‚£ä¸ªå‡ºæ ˆçš„èŠ‚ç‚¹çš„éç©ºå·¦å­æ ‘ç»“ç‚¹å‹æ ˆ (ç©ºäº†å°±ä¸å‹å‘—), æ³¨æ„è¿™é‡Œåˆæ˜¯å·¦è¾¹å…ˆäº†**

3. **åå°†åˆšåˆšé‚£ä¸ªå‡ºæ ˆçš„èŠ‚ç‚¹çš„éç©ºå³å­æ ‘ç»“ç‚¹å‹æ ˆ (ç©ºäº†å°±ä¸å‹å‘—)**

â€‹ å‡ºè¿™ä¸ªæ ˆ (æ­¤æ—¶å°±æ˜¯æˆ‘ä»¬ä¸Šé¢åˆšæ”¾çš„é‚£ä¸ªå³å­©å­èŠ‚ç‚¹ (æ³¨æ„å¦‚æœæ˜¯ç©ºçš„è¯å°±ä¸æ˜¯è¿™ä¸ªäº†)), å…¥æ”¶æ ˆ

4. é‡å¤ 2,3

æ­¤æ—¶å†å°†æ”¶æ ˆçš„èŠ‚ç‚¹ä¸€ä¸ªä¸€ä¸ª pop å‡ºï¼Œé‚£ä¹ˆæœ€åçš„é¡ºåºå°±æ˜¯ååºäº†
![]()
![](https://mobsidian.oss-cn-beijing.aliyuncs.com/2023-02-20-15-22-38-image.png)

#### ä¸­åºéå†
![](https://mobsidian.oss-cn-beijing.aliyuncs.com/2023-02-20-15-43-03-image.png)


## é€’å½’

### æ’åˆ—ä¸ç»„åˆ/å­é›†

**å½¢å¼ä¸€ã€å…ƒç´ æ— é‡ä¸å¯å¤é€‰ï¼Œå³Â `nums`Â ä¸­çš„å…ƒç´ éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ¯ä¸ªå…ƒç´ æœ€å¤šåªèƒ½è¢«ä½¿ç”¨ä¸€æ¬¡**

```java
/* ç»„åˆ/å­é›†é—®é¢˜å›æº¯ç®—æ³•æ¡†æ¶ */
//è¿™æ˜¯ä»ç­”æ¡ˆçš„è§’åº¦
void backtrack(int[] nums, int start) {
    // å›æº¯ç®—æ³•æ ‡å‡†æ¡†æ¶
    for (int i = start; i < nums.length; i++) {
        // åšé€‰æ‹©
        track.addLast(nums[i]);
        // æ³¨æ„å‚æ•°
        backtrack(nums, i + 1);
        // æ’¤é”€é€‰æ‹©
        track.removeLast();
    }
}
//è¾“å…¥çš„è§’åº¦
void dfs(int[] nums,int i,int sum){
    if(i==nums.length()) return;
//ä¸é€‰
    dfs(nums,i,sum);
//é€‰
    dfs(nums,i+1,sum+nums[i])
}

/* æ’åˆ—é—®é¢˜å›æº¯ç®—æ³•æ¡†æ¶ */
void backtrack(int[] nums) {
    for (int i = 0; i < nums.length; i++) {
        // å‰ªæé€»è¾‘
        if (used[i]) {
            continue;
        }
        // åšé€‰æ‹©
        used[i] = true;
        track.addLast(nums[i]);

        backtrack(nums);
        // æ’¤é”€é€‰æ‹©
        track.removeLast();
        used[i] = false;
    }
}
```

**å½¢å¼äºŒã€å…ƒç´ å¯é‡ä¸å¯å¤é€‰ï¼Œå³Â `nums`Â ä¸­çš„å…ƒç´ å¯ä»¥å­˜åœ¨é‡å¤ï¼Œæ¯ä¸ªå…ƒç´ æœ€å¤šåªèƒ½è¢«ä½¿ç”¨ä¸€æ¬¡**ï¼Œå…¶å…³é”®åœ¨äºæ’åºå’Œå‰ªæï¼Œ`backtrack`Â æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š

```java
Arrays.sort(nums);
/* ç»„åˆ/å­é›†é—®é¢˜å›æº¯ç®—æ³•æ¡†æ¶ */
void backtrack(int[] nums, int start) {
    // å›æº¯ç®—æ³•æ ‡å‡†æ¡†æ¶
    for (int i = start; i < nums.length; i++) {
        // å‰ªæé€»è¾‘ï¼Œè·³è¿‡å€¼ç›¸åŒçš„ç›¸é‚»æ ‘æ
        if (i > start && nums[i] == nums[i - 1]) {
            continue;
        }
        // åšé€‰æ‹©
        track.addLast(nums[i]);
        // æ³¨æ„å‚æ•°
        backtrack(nums, i + 1);
        // æ’¤é”€é€‰æ‹©
        track.removeLast();
    }
}


Arrays.sort(nums);
/* æ’åˆ—é—®é¢˜å›æº¯ç®—æ³•æ¡†æ¶ */
void backtrack(int[] nums) {
    for (int i = 0; i < nums.length; i++) {
        // å‰ªæé€»è¾‘
        if (used[i]) {
            continue;
        }
        // å‰ªæé€»è¾‘ï¼Œå›ºå®šç›¸åŒçš„å…ƒç´ åœ¨æ’åˆ—ä¸­çš„ç›¸å¯¹ä½ç½®
        if (i > 0 && nums[i] == nums[i - 1] && !used[i - 1]) {
            continue;
        }
        // åšé€‰æ‹©
        used[i] = true;
        track.addLast(nums[i]);

        backtrack(nums);
        // æ’¤é”€é€‰æ‹©
        track.removeLast();
        used[i] = false;
    }
}
```

**å½¢å¼ä¸‰ã€å…ƒç´ æ— é‡å¯å¤é€‰ï¼Œå³Â `nums`Â ä¸­çš„å…ƒç´ éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ¯ä¸ªå…ƒç´ å¯ä»¥è¢«ä½¿ç”¨è‹¥å¹²æ¬¡**ï¼Œåªè¦åˆ æ‰å»é‡é€»è¾‘å³å¯ï¼Œ`backtrack`Â æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š

```java
/* ç»„åˆ/å­é›†é—®é¢˜å›æº¯ç®—æ³•æ¡†æ¶ */
void backtrack(int[] nums, int start) {
    // å›æº¯ç®—æ³•æ ‡å‡†æ¡†æ¶
    for (int i = start; i < nums.length; i++) {
        // åšé€‰æ‹©
        track.addLast(nums[i]);
        // æ³¨æ„å‚æ•°
        backtrack(nums, i);
        // æ’¤é”€é€‰æ‹©
        track.removeLast();
    }
}


/* æ’åˆ—é—®é¢˜å›æº¯ç®—æ³•æ¡†æ¶ */
void backtrack(int[] nums) {
    for (int i = 0; i < nums.length; i++) {
        // åšé€‰æ‹©
        track.addLast(nums[i]);
        backtrack(nums);
        // æ’¤é”€é€‰æ‹©
        track.removeLast();
    }
}
```

> ç»„åˆ/å­é›†é—®é¢˜æœ‰ä¸¤ç§è§’åº¦ï¼Œè¾“å…¥å’Œç­”æ¡ˆçš„è§’åº¦ï¼Œè€Œæ’åˆ—å¹¶æ²¡æœ‰
> 
> å­é›†é—®é¢˜çš„ç­”æ¡ˆè§’åº¦æœ‰ä¸ªstartï¼Œä»startéå†ç­”æ¡ˆï¼Œå¦‚æœå­é›†é—®é¢˜ä»0å¼€å§‹å°±å˜æˆå…¨æ’åˆ—äº†ï¼Œä»startå¼€å§‹é€‰ï¼Œstartä¹‹å‰çš„å°±ä¸å¯ä»¥é€‰äº†
> 
> æ’åˆ—é—®é¢˜æ˜¯ä»0å¼€å§‹çš„
> 
> å»é‡é—®é¢˜ï¼šæ·»åŠ å‰ªæé€»è¾‘ï¼Œè®°å¾—æ’åº
> 
> é‡å¤é€‰é—®é¢˜ï¼šå­é›†å¯ä»¥é‡å¤é€‰çš„è¯dfsæ˜¯ä»iå¼€å§‹çš„ï¼Œè€Œä¸æ˜¯i+1å¼€å§‹ï¼›è€Œæ’åˆ—å»é™¤usedé€»è¾‘å°±å¯ä»¥äº†

### åŠ¨æ€è§„åˆ’

[åˆ†äº«ä¸¨ã€é¢˜å•ã€‘åŠ¨æ€è§„åˆ’ï¼ˆå…¥é—¨/èƒŒåŒ…/çŠ¶æ€æœº/åˆ’åˆ†/åŒºé—´/çŠ¶å‹/æ•°ä½/æ ‘å½¢/æ•°æ®ç»“æ„ä¼˜åŒ–ï¼‰ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/circle/discuss/tXLS3i/)

#### å…¥é—¨dp

+ çˆ¬æ¥¼æ¢¯

+ æ‰“å®¶åŠ«èˆ

+ æœ€å¤§å­æ•°ç»„å’Œ
  
  > ![](https://mobsidian.oss-cn-beijing.aliyuncs.com/2024-04-11-20-23-34-image.png)

#### èƒŒåŒ…é—®é¢˜

+ 01èƒŒåŒ…ï¼ˆæ¯ä¸ªç‰©å“åªèƒ½é€‰ä¸€æ¬¡ã€‚ï¼‰

+ å¤šé‡èƒŒåŒ…ï¼ˆç‰©å“å¯ä»¥é‡å¤é€‰ï¼Œæœ‰ä¸ªæ•°é™åˆ¶ã€‚ï¼‰

+ å®Œå…¨èƒŒåŒ…ï¼ˆç‰©å“å¯ä»¥é‡å¤é€‰ï¼Œæ— ä¸ªæ•°é™åˆ¶ã€‚ï¼‰

#### æ ‘å½¢dp

1. æ ‘çš„ç›´å¾„ï¼ˆdfsè¿”å›ä»¥rootä¸ºèµ·ç‚¹çš„æœ€é•¿è·¯å¾„ï¼Œå¹¶åœ¨æ¯ä¸ªèŠ‚ç‚¹æ›´æ–°å·¦å­æ ‘çš„æœ€é•¿è·¯å¾„+å½“å‰èŠ‚ç‚¹+å³å­æ ‘çš„æœ€é•¿è·¯å¾„ï¼‰

2. æ‰“å®¶åŠ«èˆ3ï¼ˆæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰é€‰ä¸ä¸é€‰çš„çŠ¶æ€ï¼‰
   
   ![](https://mobsidian.oss-cn-beijing.aliyuncs.com/2024-04-16-14-30-14-image.png)
   
   ```java
       //è¿”å›é€‰å½“å‰ç»“ç‚¹æ—¶ï¼Œä»¥rootä¸ºæ ¹çš„å­æ ‘æœ€å¤§ç‚¹æƒå’Œ
       //ä¸é€‰å½“å‰ç»“ç‚¹æ—¶ï¼Œä»¥rootä¸ºè·Ÿçš„å­æ ‘æœ€å¤§ç‚¹æƒå’Œï¼‰
   ```

3. ç›‘æ§äºŒå‰æ ‘

## æ ˆ

### å•è°ƒæ ˆ

1. æ¯æ—¥æ¸©åº¦
   
   ![](https://mobsidian.oss-cn-beijing.aliyuncs.com/2024-04-16-15-54-56-image.png)
   
   > åè¿›å…ˆå‡º

2. æ¥é›¨æ°´
   
   1. æ–¹æ³•ä¸€ï¼šå‡è®¾æ¯ä¸ªä½ç½®æ˜¯å®½åº¦ä¸º1çš„æ¡¶ï¼Œè®¡ç®—è¿™ä¸ªæ¡¶çš„æ¥æ°´é‡å°±éœ€è¦è®¡ç®—å·¦è¾¹æœ¨æ¿çš„é«˜åº¦ï¼ˆå·¦è¾¹çš„æœ€å¤§å€¼ï¼‰å’Œå³è¾¹æœ¨æ¿çš„é«˜åº¦ï¼ˆå³è¾¹çš„æœ€å¤§å€¼ï¼‰ï¼Œå–æœ€å°å€¼ï¼Œç„¶åå‡å»å½“å‰ä½ç½®çš„é«˜åº¦å°±å¾—åˆ°å½“å‰ä½ç½®çš„æ¥æ°´é‡ã€‚è®¡ç®—å·¦å³è¾¹æœ¨æ¿çš„é«˜åº¦å¯ä»¥ç”¨æ•°ç»„è¡¨ç¤ºï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨åŒæŒ‡é’ˆã€‚è¿™ç§åšæ³•ç›¸å½“äºç«–ç€è®¡ç®—
   
   2. æ–¹æ³•äºŒï¼šæ¨ªç€è®¡ç®—ï¼Œä»å·¦å¾€å³éå†ï¼Œé¢ç§¯ç”±ä¸‰ä¸ªä¸‹æ ‡ç»„æˆï¼Œæ ˆé¡¶å…ƒç´ çš„ä¸‹æ ‡ï¼Œæ ˆé¡¶ä¸‹ä¸€ä¸ªå…ƒç´ ä¸‹æ ‡ï¼Œå½“å‰å…ƒç´ ä¸‹æ ‡ï¼Œå½“å‰å…ƒç´ -æ ˆé¡¶ä¸‹ä¸€ä¸ªå…ƒç´ ä¸‹æ ‡-1çš„å·®å°±æ˜¯é¢ç§¯çš„å®½åº¦ï¼Œå½“å‰å…ƒç´ å’Œæ ˆé¡¶ä¸‹ä¸€ä¸ªå…ƒç´ çš„æœ€å°å€¼å‡å»æ ˆé¡¶å…ƒç´ å°±æ˜¯é«˜ï¼Œå³æ¯ä¸ªå…ƒç´ **æ‰¾ä¸Šä¸€ä¸ªæ›´å¤§çš„å…ƒç´ ï¼Œåœ¨æ‰¾çš„è¿‡ç¨‹ä¸­è®¡ç®—ï¼ˆå¡«å‘ï¼‰**ï¼Œå³ç”¨åˆ°å•è°ƒæ ˆï¼Œå¹¶ä¸”è¿˜è¦çŸ¥é“æ ˆé¡¶å…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œæ‰èƒ½è®¡ç®—ï¼Œå¦åˆ™è®¡ç®—ä¸äº†ã€‚

3. è‚¡ç¥¨ä»·æ ¼ç»´åº¦ï¼ˆæ±‚å·¦è¾¹æ¯”å½“å‰å…ƒç´ å°çš„ä¸ªæ•°->ä¸Šä¸€ä¸ªæ›´å¤§å…ƒç´ çš„ä¸‹æ ‡ï¼Œå½“å‰ä¸‹æ ‡å‡å»ï¼‰

4. æŸ±çŠ¶å›¾æœ€å¤§é¢ç§¯ï¼ˆçŸ©å½¢çš„é«˜åº¦ä¸€å®šæ˜¯heightsä¸­çš„æ•°ï¼Œå®½åº¦æ˜¯right-left-1,å…¶ä¸­rightæ˜¯ä¸‹ä¸€ä¸ªå°äºå½“å‰å…ƒç´ çš„ä¸‹æ ‡ï¼Œæ²¡æœ‰æ˜¯nï¼Œleftæ˜¯ä¸Šä¸€ä¸ªå°äºå½“å‰å…ƒç´ çš„ä¸‹æ ‡ï¼Œæ²¡æœ‰æ˜¯-1ï¼Œç”¨åˆ°å•è°ƒæ ˆï¼‰

5. æœ€å¤§çŸ©å½¢
   
   1. è½¬æ¢æˆæŸ±çŠ¶å›¾æœ€å¤§é¢ç§¯
   
   2. ![](https://mobsidian.oss-cn-beijing.aliyuncs.com/maxarea.png)

6. ä¸Šä¸€ä¸ªæ›´å¤§ï¼ˆå°ï¼‰çš„å…ƒç´ ï¼ˆä»å·¦å¾€å³éå†å¥½ç†è§£ï¼‰

7. ä¸‹ä¸€ä¸ªæ›´å¤§ï¼ˆå°ï¼‰çš„å…ƒç´ ï¼ˆä»å³å¾€å·¦éå†å¥½ç†è§£ï¼‰

### æ ˆçš„åº”ç”¨

åŸºæœ¬è®¡ç®—å™¨2

æ³•ä¸€

![](https://mobsidian.oss-cn-beijing.aliyuncs.com/2024-04-18-15-05-23-image.png)

![](https://mobsidian.oss-cn-beijing.aliyuncs.com/2024-04-18-15-05-55-image.png)

```java
class Solution {
    // ä½¿ç”¨ map ç»´æŠ¤ä¸€ä¸ªè¿ç®—ç¬¦ä¼˜å…ˆçº§
    // è¿™é‡Œçš„ä¼˜å…ˆçº§åˆ’åˆ†æŒ‰ç…§ã€Œæ•°å­¦ã€è¿›è¡Œåˆ’åˆ†å³å¯
    Map<Character, Integer> map = new HashMap<>(){{
        put('-', 1);
        put('+', 1);
        put('*', 2);
        put('/', 2);
        put('%', 2);
        put('^', 3);
    }};
    public int calculate(String s) {
        // å°†æ‰€æœ‰çš„ç©ºæ ¼å»æ‰
        s = s.replaceAll(" ", "");
        char[] cs = s.toCharArray();
        int n = s.length();
        // å­˜æ”¾æ‰€æœ‰çš„æ•°å­—
        Deque<Integer> nums = new ArrayDeque<>();
        // ä¸ºäº†é˜²æ­¢ç¬¬ä¸€ä¸ªæ•°ä¸ºè´Ÿæ•°ï¼Œå…ˆå¾€ nums åŠ ä¸ª 0
        nums.addLast(0);
        // å­˜æ”¾æ‰€æœ‰ã€Œéæ•°å­—ä»¥å¤–ã€çš„æ“ä½œ
        Deque<Character> ops = new ArrayDeque<>();
        for (int i = 0; i < n; i++) {
            char c = cs[i];
            if (c == '(') {//å·¦æ‹¬å·
                ops.addLast(c);
            } else if (c == ')') {
                // è®¡ç®—åˆ°æœ€è¿‘ä¸€ä¸ªå·¦æ‹¬å·ä¸ºæ­¢
                while (!ops.isEmpty()) {
                    if (ops.peekLast() != '(') {
                        calc(nums, ops);
                    } else {
                        ops.pollLast();
                        break;
                    }
                }
            } else {
                if (isNumber(c)) {//æ•°å­—
                    int u = 0;
                    int j = i;
                    // å°†ä» i ä½ç½®å¼€å§‹åé¢çš„è¿ç»­æ•°å­—æ•´ä½“å–å‡ºï¼ŒåŠ å…¥ nums
                    while (j < n && isNumber(cs[j])) u = u * 10 + (cs[j++] - '0');
                    nums.addLast(u);
                    i = j - 1;
                } else {//æ“ä½œç¬¦
                    if (i > 0 && (cs[i - 1] == '(' || cs[i - 1] == '+' || cs[i - 1] == '-')) {
                        nums.addLast(0);
                    }
                    // æœ‰ä¸€ä¸ªæ–°æ“ä½œè¦å…¥æ ˆæ—¶ï¼Œå…ˆæŠŠæ ˆå†…å¯ä»¥ç®—çš„éƒ½ç®—äº† 
                    // åªæœ‰æ»¡è¶³ã€Œæ ˆå†…è¿ç®—ç¬¦ã€æ¯”ã€Œå½“å‰è¿ç®—ç¬¦ã€ä¼˜å…ˆçº§é«˜/åŒç­‰ï¼Œæ‰è¿›è¡Œè¿ç®—
                    while (!ops.isEmpty() && ops.peekLast() != '(') {
                        char prev = ops.peekLast();
                        if (map.get(prev) >= map.get(c)) {
                            calc(nums, ops);
                        } else {
                            break;
                        }
                    }
                    ops.addLast(c);
                }
            }
        }
        // å°†å‰©ä½™çš„è®¡ç®—å®Œ
        while (!ops.isEmpty()) calc(nums, ops);
        return nums.peekLast();
    }
    void calc(Deque<Integer> nums, Deque<Character> ops) {
        if (nums.isEmpty() || nums.size() < 2) return;
        if (ops.isEmpty()) return;
        int b = nums.pollLast(), a = nums.pollLast();
        char op = ops.pollLast();
        int ans = 0;
        if (op == '+') ans = a + b;
        else if (op == '-') ans = a - b;
        else if (op == '*') ans = a * b;
        else if (op == '/')  ans = a / b;
        else if (op == '^') ans = (int)Math.pow(a, b);
        else if (op == '%') ans = a % b;
        nums.addLast(ans);
    }
    boolean isNumber(char c) {
        return Character.isDigit(c);
    }
}

ä½œè€…ï¼šå®«æ°´ä¸‰å¶
é“¾æ¥ï¼šhttps://leetcode.cn/problems/basic-calculator-ii/solutions/648832/shi-yong-shuang-zhan-jie-jue-jiu-ji-biao-c65k/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

> å¦‚æœåªæœ‰åŠ å‡ï¼Œä¼˜å…ˆçº§å¯ä»¥ä¸ç”¨

æ³•2ï¼šå°†ä¸­åºè¡¨è¾¾å¼è½¬æ¢æˆé€†æ³¢å…°è¡¨è¾¾å¼ï¼Œå†è®¡ç®—é€†æ³¢å…°è¡¨è¾¾å¼

---

å­—ç¬¦ä¸²è§£ç 

- æœ¬é¢˜éš¾ç‚¹åœ¨äºæ‹¬å·å†…åµŒå¥—æ‹¬å·ï¼Œéœ€è¦**ä»å†…å‘å¤–**ç”Ÿæˆä¸æ‹¼æ¥å­—ç¬¦ä¸²ï¼Œè¿™ä¸æ ˆçš„**å…ˆå…¥åå‡º**ç‰¹æ€§å¯¹åº”ã€‚

```java
class Solution {
    public String decodeString(String s) {
                //åŒæ ˆè§£æ³•ï¼š
        //å‡†å¤‡ä¸¤ä¸ªæ ˆï¼šä¸€ä¸ªå­˜æ”¾æ•°å­—ï¼Œä¸€ä¸ªå­˜æ”¾å­—ç¬¦ä¸²
        //éå†å­—ç¬¦æœ‰å››ç§æƒ…å†µ
        //1ã€å¦‚æœæ˜¯æ•°å­— å°†æ•°å­—è½¬æˆæ•´å‹æ•°å­—ç­‰å¾…å¤„ç†
        //2ã€å¦‚æœæ˜¯å­—ç¬¦ å°†å­—ç¬¦æ·»åŠ åˆ°å½“å‰ä¸´æ—¶å­—ç¬¦ä¸²ä¸­
        //3ã€å¦‚æœæ˜¯'['  å°†å½“å‰æ•°å­—å’Œä¸´æ—¶å­—ç¬¦ä¸²æ·»åŠ åˆ°å„è‡ªæ ˆä¸­
        //4ã€å¦‚æœæ˜¯']'  å°†æ•°å­—å’Œå­—ç¬¦æ ˆå„å–å‡ºï¼Œç„¶åæ‹¼æ¥æˆæ–°çš„ä¸´æ—¶å­—ç¬¦ä¸²
        //Java æ¨èç”¨Deque ArrayDequeå®ç°æ ˆ
        //åˆ›å»ºæ•°å­—æ ˆï¼Œåˆ›å»ºå­—ç¬¦ä¸²æ ˆ åŠä¸´æ—¶æ•°å­—å’Œä¸´æ—¶å­—ç¬¦ä¸²
        Deque<Integer> stack_digit=new ArrayDeque<>();
        Deque<StringBuilder> stack_string=new ArrayDeque<>();
        int tNum=0;
        StringBuilder tString = new StringBuilder();
        int i=0;
        while(i<s.length()){
            char ch = s.charAt(i++);
            if(ch=='['){
                stack_digit.push(tNum);
                stack_string.push(tString);
                tNum=0;
                tString=new StringBuilder();
            }else if(ch==']'){
                StringBuilder temp = stack_string.pop();
                int count=stack_digit.pop();
                for(int j=0;j<count;j++){
                    temp.append(tString.toString());
                }
                tString=temp;
            }else if('0'<=ch&&ch<='9'){
                tNum=tNum*10+ch-'0';
            }else{
                tString.append(ch);
            }
        }
        return tString.toString();
    }
}
```

> tStringæ˜¯ç»“æœï¼Œstack_stringè¿™ä¸ªæ ˆå­˜æ”¾çš„ä¸Šä¸€æ¬¡çš„ç»“æœï¼Œå½“[æ—¶ï¼ŒtStringåŠ å…¥æ ˆä¸­å¹¶é‡æ–°å¤åˆ¶ï¼Œä¹Ÿå°±æ˜¯è¯´é‡åˆ°[æ—¶ï¼ŒæŠŠ[å‰é¢çš„å­—ç¬¦ä¸²å’Œæ•°å­—ä¿å­˜èµ·æ¥ï¼Œå½“]æ—¶ï¼ŒtStringå°±æ˜¯[]ä¸­çš„å†…å®¹

## å•è°ƒé˜Ÿåˆ—

1. æ»‘åŠ¨çª—å£æœ€å¤§å€¼

![](https://mobsidian.oss-cn-beijing.aliyuncs.com/2024-04-16-14-44-06-image.png)

é˜Ÿé¦–æ˜¯æœ€å¤§çš„ï¼Œä¸ºä¿æŒé˜Ÿåˆ—çš„å•è°ƒæ€§ï¼Œå¦‚æœé˜Ÿå°¾çš„å…ƒç´ å°äºå½“å‰å…ƒç´ ï¼Œåˆ é™¤é˜Ÿå°¾

```java
            while(!dq.isEmpty()&&nums[dq.getLast()]<=num){
                dq.removeLast();
            }
```

å½“é˜Ÿå¤´ä¸åœ¨çª—å£ï¼Œè¦å°†é˜Ÿå¤´ç§»é™¤



## ä½è¿ç®—

### n&(n-1)

(nâˆ’1) ä½œç”¨ï¼š äºŒè¿›åˆ¶æ•°å­— nnn æœ€å³è¾¹çš„ 111 å˜æˆ 000 ï¼Œæ­¤ 111 å³è¾¹çš„ 000 éƒ½å˜æˆ 111 ã€‚

n&(nâˆ’1)n \& (n - 1)n&(nâˆ’1) ä½œç”¨ï¼š äºŒè¿›åˆ¶æ•°å­— nnn æœ€å³è¾¹çš„ 111 å˜æˆ 000 ï¼Œå…¶ä½™ä¸å˜

![](https://mobsidian.oss-cn-beijing.aliyuncs.com/2024-04-28-12-07-35-image.png)

å¯ä»¥å°†æœ€å³è¾¹çš„1å˜ä¸º0ï¼Œä¹Ÿå¯ä»¥æ±‚å‡º1çš„ä¸ªæ•°

ä½œè€…ï¼šKrahets
é“¾æ¥ï¼šhttps://leetcode.cn/problems/number-of-1-bits/solutions/2361978/191-wei-1-de-ge-shu-wei-yun-suan-qing-xi-40rw/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
### å¼‚æˆ–è¿ç®—

OR è¿ç®—çš„è¿ç®—å­æœ‰ä¸¤ç§æƒ…å†µï¼Œè®¡ç®—ç»“æœä¸º`true`ã€‚

ï¼ˆ1ï¼‰ä¸€ä¸ªä¸º trueï¼Œå¦ä¸€ä¸ªä¸º false;

ï¼ˆ2ï¼‰ä¸¤ä¸ªéƒ½ä¸º trueã€‚

ä¸Šé¢ä¸¤ç§æƒ…å†µï¼Œæœ‰æ—¶å€™éœ€è¦æ˜ç¡®åŒºåˆ†ï¼Œæ‰€ä»¥å¼•å…¥äº† XORã€‚

XOR æ’é™¤äº†ç¬¬äºŒç§æƒ…å†µï¼Œåªæœ‰ç¬¬ä¸€ç§æƒ…å†µï¼ˆä¸€ä¸ªè¿ç®—å­ä¸º`true`ï¼Œå¦ä¸€ä¸ªä¸º`false`ï¼‰æ‰ä¼šè¿”å› trueï¼Œæ‰€ä»¥å¯ä»¥çœ‹æˆæ˜¯æ›´å•çº¯çš„ OR è¿ç®—ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒÂ **XOR ä¸»è¦ç”¨æ¥åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ä¸åŒã€‚**

XOR ä¸€èˆ¬ä½¿ç”¨æ’å…¥ç¬¦å·ï¼ˆcaretï¼‰`^`è¡¨ç¤ºã€‚å¦‚æœçº¦å®š`0`Â ä¸º falseï¼Œ`1`Â ä¸º trueï¼Œé‚£ä¹ˆ XOR çš„è¿ç®—çœŸå€¼è¡¨å¦‚ä¸‹ã€‚

```javascript
0 ^ 0 = 0
0 ^ 1 = 1
1 ^ 0 = 1
1 ^ 1 = 0
```

> ä¸åŒä¸ºtrue

XOR è¿ç®—æœ‰ä»¥ä¸‹çš„è¿ç®—å®šå¾‹ã€‚ç”±äºéå¸¸ç®€å•ï¼Œè¿™é‡Œå°±çœç•¥è¯æ˜äº†ã€‚

ï¼ˆ1ï¼‰**ä¸€ä¸ªå€¼ä¸è‡ªèº«çš„è¿ç®—ï¼Œæ€»æ˜¯ä¸º falseã€‚**
ï¼ˆ2ï¼‰**ä¸€ä¸ªå€¼ä¸ 0 çš„è¿ç®—ï¼Œæ€»æ˜¯ç­‰äºå…¶æœ¬èº«ã€‚**
ï¼ˆ3ï¼‰**å¯äº¤æ¢æ€§**
ï¼ˆ4ï¼‰**ç»“åˆæ€§**

è¯·çœ‹ä¸‹é¢è¿™é“é¢˜ã€‚

> ä¸€ä¸ªæ•°ç»„åŒ…å« n-1 ä¸ªæˆå‘˜ï¼Œè¿™äº›æˆå‘˜æ˜¯ 1 åˆ° n ä¹‹é—´çš„æ•´æ•°ï¼Œä¸”æ²¡æœ‰é‡å¤ï¼Œè¯·æ‰¾å‡ºç¼ºå°‘çš„é‚£ä¸ªæ•°å­—ã€‚

æœ€å¿«çš„è§£ç­”æ–¹æ³•ï¼Œå°±æ˜¯æŠŠæ‰€æœ‰æ•°ç»„æˆå‘˜ï¼ˆA[0] ä¸€ç›´åˆ° A[n-2]ï¼‰ä¸ 1 åˆ° n çš„æ•´æ•°å…¨éƒ¨æ”¾åœ¨ä¸€èµ·ï¼Œè¿›è¡Œå¼‚æˆ–è¿ç®—ã€‚

> ```javascript
> A[0] ^ A[1] ^ ... ^ A[n-2] ^ 1 ^ 2 ^ ... ^ n
> ```

ä¸Šé¢è¿™ä¸ªå¼å­ä¸­ï¼Œæ¯ä¸ªæ•°ç»„æˆå‘˜éƒ½ä¼šå‡ºç°ä¸¤æ¬¡ï¼Œç›¸åŒçš„å€¼è¿›è¡Œå¼‚æˆ–è¿ç®—å°±ä¼šå¾—åˆ° 0ã€‚åªæœ‰ç¼ºå°‘çš„é‚£ä¸ªæ•°å­—å‡ºç°ä¸€æ¬¡ï¼Œæ‰€ä»¥æœ€åå¾—åˆ°çš„å°±æ˜¯è¿™ä¸ªå€¼ã€‚

[äºŒè¿›åˆ¶çš„åŸç ã€åç ã€è¡¥ç  - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/99082236)

### è´¨æ•°

ç»™å®šæ•´æ•°Â `n`Â ï¼Œè¿”å›Â *æ‰€æœ‰å°äºéè´Ÿæ•´æ•°Â `n`Â çš„è´¨æ•°çš„æ•°é‡*

```java
class Solution {
    public int countPrimes(int n) {
        boolean[] isPrime = new boolean[n];
        Arrays.fill(isPrime, true);
        for (int i = 2; i * i < n; i++) 
            if (isPrime[i]) 
                for (int j = i * i; j < n; j += i) 
                    isPrime[j] = false;

        int count = 0;
        for (int i = 2; i < n; i++)
            if (isPrime[i]) count++;

        return count;
    }
}
```

> ç¬¬äºŒä¸ªå¾ªç¯ä¸­j=i*iï¼š`i = 5`Â æ—¶ç®—æ³•ä¼šæ ‡è®° 5 Ã— 2 = 10ï¼Œ5 Ã— 3 = 15 ç­‰ç­‰æ•°å­—ï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªæ•°å­—å·²ç»è¢«Â `i = 2`Â å’ŒÂ `i = 3`Â çš„ 2 Ã— 5 å’Œ 3 Ã— 5 æ ‡è®°äº†ã€‚æ‰€ä»¥ä»i * iå¼€å§‹
> 
> éå†åˆ°sqrt(n)ï¼šå› ä¸ºå¦‚æœå­˜åœ¨ä¸€ä¸ªå¤§äºsqrt(n)çš„éè´¨æ•°mï¼Œé‚£ä¹ˆå®ƒä¸€å®šå¯ä»¥åˆ†è§£æˆä¸¤ä¸ªå°äºæˆ–ç­‰äºsqrt(n)çš„å› å­ï¼Œå…¶ä¸­ä¹‹ä¸€å¿…ç„¶å°äºæˆ–ç­‰äºsqrt(n)ã€‚å¦‚æœæˆ‘ä»¬éå†åˆ°sqrt(n)ä¹‹åè¿˜å­˜åœ¨éè´¨æ•°ï¼Œé‚£ä¹ˆè¿™äº›éè´¨æ•°çš„å€æ•°å·²ç»è¢«ä¹‹å‰çš„éå†è¿‡ç¨‹æ ‡è®°ä¸ºéè´¨æ•°äº†ï¼Œä¹Ÿå°±æ˜¯è¯´è¢«å°äºsqrt(n)çš„æ•°éå†è¿‡äº†

### æœ€å¤§å…¬çº¦æ•°

åŸºæœ¬æ€è·¯å¦‚ä¸‹ï¼š1.aÃ·bï¼Œä»¤rä¸ºæ‰€å¾—ä½™æ•°ï¼ˆ0â‰¤rï¼œbï¼‰ã€‚è‹¥r=0ï¼Œç®—æ³•ç»“æŸï¼›bå³ä¸ºç­”æ¡ˆï¼›2.äº’æ¢ï¼šç½®aâ†bï¼Œbâ†rï¼Œå¹¶è¿”å›ç¬¬ä¸€æ­¥

```java
int many(int a,int b) {
    int r;
    while(b!=0)
    {
       r=a%b;
       a=b;
       b=r;
    }
    return a;
}
```

ç¬¬ä¸€ç§æ–¹æ³•å°±æ˜¯é€šè¿‡è®¡ç®—å‡ºä¸¤ä¸ªæ•´æ•°çš„æœ€å¤§å…¬çº¦æ•°æ¥è®¡ç®—æœ€å°å…¬å€æ•°ï¼Œå› ä¸ºæœ€å°å…¬å€æ•°ä¸æœ€å¤§å…¬çº¦æ•°çš„å…³ç³»å°±æ˜¯ï¼Œ**ä¸¤ä¸ªæ•°çš„æœ€å°å…¬å€æ•°ç­‰äºè¿™ä¸¤ä¸ªæ•°çš„ä¹˜ç§¯é™¤äºä¸¤ä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•°**

### è¿›åˆ¶è½¬æ¢

åè¿›åˆ¶æ•´æ•°è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ•´æ•°é‡‡ç”¨Â **"é™¤ 2 å–ä½™ï¼Œé€†åºæ’åˆ—"**Â æ³•ã€‚

> **å…·ä½“åšæ³•æ˜¯ï¼š**ç”¨ 2 æ•´é™¤åè¿›åˆ¶æ•´æ•°ï¼Œå¯ä»¥å¾—åˆ°ä¸€ä¸ªå•†å’Œä½™æ•°ï¼›å†ç”¨ 2 å»é™¤å•†ï¼Œåˆä¼šå¾—åˆ°ä¸€ä¸ªå•†å’Œä½™æ•°ï¼Œå¦‚æ­¤è¿›è¡Œï¼Œç›´åˆ°å•†ä¸ºå°äº 1 æ—¶ä¸ºæ­¢ï¼Œç„¶åæŠŠå…ˆå¾—åˆ°çš„ä½™æ•°ä½œä¸ºäºŒè¿›åˆ¶æ•°çš„ä½ä½æœ‰æ•ˆä½ï¼Œåå¾—åˆ°çš„ä½™æ•°ä½œä¸ºäºŒè¿›åˆ¶æ•°çš„é«˜ä½æœ‰æ•ˆä½ï¼Œä¾æ¬¡æ’åˆ—èµ·æ¥ã€‚